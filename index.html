<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>365DF MLM (CoreV4 + VaultV5) - User DApp</title>

  <!-- ‡πÉ‡∏ä‡πâ‡πÑ‡∏ü‡∏•‡πå style.css ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì -->
  <link rel="stylesheet" href="style.css" />

  <!-- Ethers v5 -->
  <script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.umd.min.js"></script>

  <!-- config.js ‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ window.APP_CONFIG -->
  <script src="config.js"></script>
</head>

<body>
  <div class="wrap">
    <!-- Top -->
    <div class="top">
      <h1>üå§Ô∏è 365DF MLM (CoreV4 + VaultV5)</h1>
      <div class="seg">
        <button class="btn primary" id="btnConnect">Connect Wallet</button>
        <button class="btn" id="btnRefresh">Refresh</button>
      </div>
    </div>

    <!-- Addresses -->
    <div class="card">
      <div class="row">
        <div class="label">Network</div>
        <div class="mono" id="netText">-</div>
      </div>
      <div class="row">
        <div class="label">Wallet</div>
        <div class="mono" id="walletAddr">-</div>
      </div>

      <div class="row">
        <div class="label">CoreV4</div>
        <div class="mono" id="coreAddr">-</div>
      </div>
      <div class="row">
        <div class="label">VaultV5</div>
        <div class="mono" id="vaultAddr">-</div>
      </div>
      <div class="row">
        <div class="label">BinaryV4</div>
        <div class="mono" id="binaryAddr">-</div>
      </div>
      <div class="row">
        <div class="label">Staking365V4</div>
        <div class="mono" id="stakingAddr">-</div>
      </div>
      <div class="row">
        <div class="label">USDT</div>
        <div class="mono" id="usdtAddr">-</div>
      </div>
      <div class="row">
        <div class="label">365DF</div>
        <div class="mono" id="dfAddr">-</div>
      </div>

      <div class="small muted hint">
        * ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÄ‡∏õ‡∏¥‡∏î‡∏ú‡πà‡∏≤‡∏ô Bitget/MetaMask DApp Browser ‡∏à‡∏∞‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏á‡πà‡∏≤‡∏¢‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î
      </div>
    </div>

    <!-- Referral Links -->
    <div class="card">
      <h2>üîó Referral Links</h2>

      <div class="grid2">
        <div class="box">
          <div class="label">Left Link</div>
          <div class="mono" id="leftLink">-</div>
          <div class="actions">
            <button class="btn" id="btnCopyLeft">Copy Left</button>
          </div>
        </div>

        <div class="box">
          <div class="label">Right Link</div>
          <div class="mono" id="rightLink">-</div>
          <div class="actions">
            <button class="btn" id="btnCopyRight">Copy Right</button>
          </div>
        </div>
      </div>

      <div class="small muted hint">
        ‡πÄ‡∏õ‡∏¥‡∏î‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏à‡∏∞‡πÉ‡∏™‡πà sponsor / side ‡πÉ‡∏´‡πâ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥ (‡∏à‡∏≤‡∏Å query ?ref=...&side=L/R)
      </div>
    </div>

    <!-- Commission (USDT Cap) -->
    <div class="card">
      <h2>üí∞ Commission (USDT Cap)</h2>

      <div class="grid2">
        <div class="box">
          <div class="label">Total Commission</div>
          <div class="mono" id="comTotal">-</div>
          <div class="small muted">
            ‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î (Unlocked + Locked + Claimed + Expired)
          </div>
        </div>

        <div class="box">
          <div class="label">Max Claimable by Package</div>
          <div class="mono" id="comMax">-</div>
          <div class="small muted">
            Small=365 / Medium=3,650 / Large=36,500
          </div>
        </div>
      </div>

      <div class="grid2" style="margin-top:10px">
        <div class="box">
          <div class="label">Claimable Now</div>
          <div class="mono" id="comClaimNow">-</div>
          <div class="small muted">‡πÄ‡∏Ñ‡∏•‡∏°‡πÑ‡∏î‡πâ‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ (‡∏†‡∏≤‡∏¢‡πÉ‡∏ï‡πâ CAP)</div>
        </div>

        <div class="box">
          <div class="label">Locked (Upgrade required)</div>
          <div class="mono" id="comLocked">-</div>
          <div class="small muted">‡∏¢‡∏≠‡∏î‡∏ó‡∏µ‡πà ‚Äú‡πÄ‡∏´‡πá‡∏ô‚Äù ‡πÅ‡∏ï‡πà‡πÄ‡∏Ñ‡∏•‡∏°‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ ‡∏ï‡πâ‡∏≠‡∏á‡∏≠‡∏±‡∏û‡πÄ‡∏Å‡∏£‡∏î</div>
        </div>
      </div>

      <div class="grid2" style="margin-top:10px">
        <div class="box">
          <div class="label">Locked Start</div>
          <div class="mono" id="comLockStart">-</div>
        </div>
        <div class="box">
          <div class="label">Locked End (Expire)</div>
          <div class="mono" id="comLockEnd">-</div>
        </div>
      </div>

      <div class="grid2" style="margin-top:10px">
        <div class="box">
          <div class="label">Expire Countdown (90 days)</div>
          <div class="mono" id="comCountdown">-</div>
        </div>
        <div class="box">
          <div class="label">Status</div>
          <div id="comStatus">-</div>
        </div>
      </div>

      <div class="grid2" style="margin-top:10px">
        <div class="box">
          <div class="label">Expired (Lost)</div>
          <div class="mono" id="comExpired">-</div>
        </div>

        <div class="box">
          <div class="label">Note</div>
          <div class="small muted">
            ‡∏ñ‡πâ‡∏≤ Locked ‡πÄ‡∏Å‡∏¥‡∏ô 90 ‡∏ß‡∏±‡∏ô‡∏Å‡πà‡∏≠‡∏ô‡∏≠‡∏±‡∏û‡πÄ‡∏Å‡∏£‡∏î ‚Üí ‡∏à‡∏∞‡∏Å‡∏•‡∏≤‡∏¢‡πÄ‡∏õ‡πá‡∏ô Expired ‡πÅ‡∏•‡∏∞‡πÄ‡∏Ñ‡∏•‡∏°‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ
          </div>
        </div>
      </div>

      <div class="actions" style="margin-top:12px">
        <button class="btn primary" id="btnClaimVault">Claim Vault (USDT+DF)</button>
      </div>

      <div class="small muted hint">
        * ‡∏õ‡∏∏‡πà‡∏°‡∏ô‡∏µ‡πâ‡∏à‡∏∞‡πÄ‡∏£‡∏µ‡∏¢‡∏Å <span class="mono">VaultV5.claim()</span> ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏Ñ‡∏•‡∏°‡∏¢‡∏≠‡∏î‡∏ó‡∏µ‡πà‡πÄ‡∏Ñ‡∏•‡∏°‡πÑ‡∏î‡πâ
      </div>
    </div>

    <!-- Vault (USDT / DF) -->
    <div class="card">
      <h2>üè¶ Vault (USDT / DF)</h2>

      <div class="grid2">
        <div class="box">
          <div class="label">Claimable USDT (Vault)</div>
          <div class="mono" id="claimUSDT">-</div>
        </div>
        <div class="box">
          <div class="label">Claimable DF (Vault)</div>
          <div class="mono" id="claimDF">-</div>
        </div>
      </div>

      <div class="actions" style="margin-top:12px">
        <button class="btn" id="btnClaimVault2">Claim (Vault)</button>
      </div>

      <div class="small muted hint">
        * ‡∏õ‡∏∏‡πà‡∏°‡∏ô‡∏µ‡πâ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏õ‡∏∏‡πà‡∏°‡∏î‡πâ‡∏≤‡∏ô‡∏ö‡∏ô: <span class="mono">VaultV5.claim()</span>
      </div>
    </div>

    <!-- Buy / Upgrade -->
    <div class="card">
      <h2>üßæ Buy / Upgrade Package</h2>

      <div class="grid2">
        <div class="box">
          <div class="label">Sponsor (optional)</div>
          <input class="inp mono" id="inpSponsor" placeholder="0x... (‡∏õ‡∏•‡πà‡∏≠‡∏¢‡∏ß‡πà‡∏≤‡∏á = ‡πÉ‡∏ä‡πâ COMPANY_WALLET)" />
          <div class="small muted hint">* ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞ fallback ‡πÄ‡∏õ‡πá‡∏ô COMPANY_WALLET ‡∏´‡∏≤‡∏Å‡∏õ‡∏•‡πà‡∏≠‡∏¢‡∏ß‡πà‡∏≤‡∏á</div>
        </div>

        <div class="box">
          <div class="label">Placement Side</div>
          <div class="actions">
            <button class="btn primary" id="btnSideL">Left</button>
            <button class="btn" id="btnSideR">Right</button>
          </div>
          <div class="small muted hint">
            * ‡∏ñ‡πâ‡∏≤‡∏ù‡∏±‡πà‡∏á sponsor ‡∏ô‡∏±‡πâ‡∏ô‡πÄ‡∏ï‡πá‡∏°‡∏à‡∏∞‡∏ã‡∏∑‡πâ‡∏≠‡πÑ‡∏°‡πà‡∏ú‡πà‡∏≤‡∏ô (SIDE_TAKEN)
          </div>
        </div>
      </div>

      <div class="box" style="margin-top:12px">
        <div class="label">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÅ‡∏û‡πá‡∏Ñ‡πÄ‡∏Å‡∏à</div>

        <div class="pkgWrap" style="margin-top:10px">
          <button class="pkg" data-pkg="1">
            <div class="t">Small</div>
            <div class="muted">100 USDT</div>
            <div class="small muted">DF principal: 365</div>
          </button>

          <button class="pkg" data-pkg="2">
            <div class="t">Medium</div>
            <div class="muted">1,000 USDT</div>
            <div class="small muted">DF principal: 3,650</div>
          </button>

          <button class="pkg" data-pkg="3">
            <div class="t">Large</div>
            <div class="muted">10,000 USDT</div>
            <div class="small muted">DF principal: 36,500</div>
          </button>
        </div>

        <div class="row" style="margin-top:10px">
          <div class="label">Selected</div>
          <div id="selectedPkg">-</div>
        </div>

        <div class="actions">
          <button class="btn" id="btnApprove">Approve USDT</button>
          <button class="btn primary" id="btnBuy">Approve + Buy/Upgrade</button>
        </div>

        <div class="small muted hint">
          * ‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏î‡∏µ‡∏¢‡∏ß ‚ÄúApprove + Buy/Upgrade‚Äù ‡∏à‡∏∞‡∏ó‡∏≥ Approve ‡∏Å‡πà‡∏≠‡∏ô ‡πÅ‡∏•‡πâ‡∏ß‡∏ã‡∏∑‡πâ‡∏≠‡∏ó‡∏±‡∏ô‡∏ó‡∏µ
        </div>
      </div>
    </div>

    <!-- My Dashboard -->
    <div class="card">
      <h2>üìä My Dashboard (CoreV4 + Staking365V4)</h2>

      <div class="grid2">
        <div class="box">
          <div class="label">My Sponsor</div>
          <div class="mono" id="mySponsor">-</div>
        </div>
        <div class="box">
          <div class="label">My Side</div>
          <div class="mono" id="mySide">-</div>
        </div>
      </div>

      <div class="grid2" style="margin-top:10px">
        <div class="box">
          <div class="label">My Package</div>
          <div id="myPkg">-</div>
        </div>
        <div class="box">
          <div class="label">My Rank</div>
          <div id="myRank">-</div>
        </div>
      </div>

      <div class="grid2" style="margin-top:10px">
        <div class="box">
          <div class="label">Left Child</div>
          <div class="mono" id="leftChild">-</div>
        </div>
        <div class="box">
          <div class="label">Right Child</div>
          <div class="mono" id="rightChild">-</div>
        </div>
      </div>

      <div class="grid2" style="margin-top:10px">
        <div class="box">
          <div class="label">Binary Volume (L)</div>
          <div class="mono" id="volL">-</div>
        </div>
        <div class="box">
          <div class="label">Binary Volume (R)</div>
          <div class="mono" id="volR">-</div>
        </div>
      </div>

      <div class="grid2" style="margin-top:10px">
        <div class="box">
          <div class="label">Binary Volume (P)</div>
          <div class="mono" id="volP">-</div>
        </div>
        <div class="box">
          <div class="label">Pending DF Reward</div>
          <div class="mono" id="pendingStake">-</div>
        </div>
      </div>

      <div class="grid2" style="margin-top:10px">
        <div class="box">
          <div class="label">Stake Start</div>
          <div class="mono" id="stakeStart">-</div>
        </div>
        <div class="box">
          <div class="label">Stake End</div>
          <div class="mono" id="stakeEnd">-</div>
        </div>
      </div>

      <div class="grid2" style="margin-top:10px">
        <div class="box">
          <div class="label">Countdown</div>
          <div class="mono" id="stakeCountdown">-</div>
        </div>
        <div class="box">
          <div class="label">Stake Status</div>
          <div id="stakeStatus">-</div>
        </div>
      </div>

      <div class="actions" style="margin-top:12px">
        <button class="btn primary" id="btnClaimStake">Claim Stake (DF)</button>
      </div>

      <div class="small muted hint">
        * Claim Stake = ‡πÄ‡∏Ñ‡∏•‡∏° DF principal+reward ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Ñ‡∏£‡∏ö 365 ‡∏ß‡∏±‡∏ô (‡∏ï‡∏≤‡∏° Staking365V4)
      </div>
    </div>

    <!-- Status -->
    <div class="card">
      <h2>üß† Status</h2>
      <div class="status" id="status">Ready. ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤ Connect Wallet</div>
      <div class="foot small muted">
        * ‡∏´‡∏≤‡∏Å‡∏ó‡∏≥‡∏ö‡∏ô‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠ ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÄ‡∏õ‡∏¥‡∏î‡∏ú‡πà‡∏≤‡∏ô Bitget/MetaMask DApp Browser
      </div>
    </div>
  </div>

  <!-- Toast -->
  <div id="toast" class="toast">-</div>

  <!-- app.js -->
  <script src="app.js"></script>

  <!-- small patch: ‡πÉ‡∏´‡πâ‡∏õ‡∏∏‡πà‡∏° ClaimVault2 ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏õ‡∏∏‡πà‡∏°‡∏´‡∏•‡∏±‡∏Å -->
  <script>
    (function () {
      const b2 = document.getElementById("btnClaimVault2");
      const b1 = document.getElementById("btnClaimVault");
      if (b2 && b1) b2.addEventListener("click", () => b1.click());
    })();
  </script>
</body>
</html>
